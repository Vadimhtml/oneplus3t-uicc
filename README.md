# Московский «Мобильный билет» для OnePlus 3T

**Необходим OnePlus 3T с root доступом!**

`Что это вообще такое? Простыми словами для простых людей! Дело в том, что OnePlus — любители дефолтных конфигов, и официальная прошивка не даёт NFC SIM'ке с «Мобильным билетом» пользоваться антеннкой телефона, чтобы этим телефоном оплачивать проезд. Мы просто меняем настройки NFC и разрешаем SIM'ке пользоваться антеннкой.`

*!!! Абсолютно всё вы делаете на свой страх и риск, я никакой ответственности не несу !!!*

*!!! Делайте резервные копии !!!*

1. Вставляем NFC SIM с «Мобильный билет» в слот №1
2. Активируем услугу «Мобильный билет», инструкции у операторов, чаще через SIM-Меню
3. В настройках выключаем NFC
4. Включаем NFC
5. Заменяем `/system/etc/libnfc-nxp.conf` на устройстве на `libnfc-nxp.conf` из этого репозитория, не забываем сохранить оригинальный файл
6. Выключаем NFC
7. Включаем NFC
8. Перезагружаемся
9. В метро входим **с выключенным экраном**, к жёлтому кружку прикладываем камеру телефона

Моё видео с пруфами: https://youtu.be/kuRtJnnVJHE

На данный момент попробовал на многих станциях метро и в одном автобусе:
 
* Работает на турникетах в метро
* Работает на жёлтом терминале пополнения в метро
* Работает в автобусах
* Считывается другим телефоном, например через приложение «Мой проездной»
* Можно записывать «Единый» другим телефоном через приложение «Мой проездной» поверх «Мобильного билета», будет работать как обычная «Тройка» — поездки списываются с проездного, если они закончатся, будут списываться со счёта «Мобильного билета» на SIM'ке
* Android Pay продолжает работать, если от него спрятать Magisk'ом root

**Трамваи и троллейбусы не протестировал!**

**Буду рад любым комментариям, вопросам, отзывам, статистике использования.**

**Если будет время, попробую изготовить модуль для Magisk'а и написать статью на 4pda.**
