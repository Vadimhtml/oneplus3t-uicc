# Московский «Мобильный билет» для OnePlus 3T

#### Необходим OnePlus 3T с root доступом!
**Что это вообще такое? Простыми словами для простых людей! Дело в том, что OnePlus — любители дефолтных конфигов, и официальная прошивка не даёт NFC SIM'ке с «Мобильным билетом» пользоваться антеннкой телефона, чтобы этим телефоном оплачивать проезд. Мы просто меняем настройки NFC и разрешаем SIM'ке пользоваться антеннкой.**

:fire: *Абсолютно всё вы делаете на свой страх и риск, делайте резервные копии, я никакой ответственности не несу*

#### Процесс
1. Вставляем NFC SIM с «Мобильный билет» в слот №1
2. Активируем услугу «Мобильный билет», инструкции у операторов, чаще через SIM-Меню
3. В настройках выключаем NFC
4. Включаем NFC
5. Заменяем `/system/etc/libnfc-nxp.conf` на устройстве на `libnfc-nxp.conf` из этого репозитория, не забываем сохранить оригинальный файл
6. Выключаем NFC
7. Включаем NFC
8. Перезагружаемся
9. В метро входим **с выключенным экраном**, к жёлтому кружку прикладываем камеру телефона

#### Видео с пруфами
* Из метро — https://youtu.be/kuRtJnnVJHE
* В автобусе — https://youtu.be/TTTDgUpS2eA

#### Что работает
* Пропускают турникеты в метро
* Жёлтый терминал в метро показывает всю информацию
* Работает в автобусах
* Считывается другим телефоном, например через приложение «Мой проездной»
* Можно записывать «Единый» другим телефоном через приложение «Мой проездной» поверх «Мобильного билета», будет работать как обычная «Тройка» — поездки списываются с проездного, если они закончатся, будут списываться со счёта «Мобильного билета» на SIM'ке
* Android Pay продолжает работать, если от него спрятать Magisk'ом root

#### Что ещё не попробовал
* Трамваи
* Троллейбусы
* Электрички
* Записывать проездные через кассиров в метро
* Узнать ID вшитой в SIM'ку «Тройки» и закидывать деньги через какой-нибудь банкинг


**Буду рад любым комментариям, вопросам, отзывам, статистике использования.**

**Если будет время, попробую изготовить модуль для Magisk'а и написать статью на 4pda.**
